<!-- app/views/events/index.html.erb -->
<html lang="en">
<nav class="navbar navbar-expand-sm navbar-light berkeley-color">
  <div class="container">
    <%= link_to "Home", root_path, class: "btn btn-outline-primary", style: "color: darkgray; border-color: darkgray;"%>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav" aria-controls="nav" aria-label="Expand Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <%= link_to "Check In", checkin_path, class: "nav-link", style:"color: darkgray;"%>
        </li>
        <li class="nav-item">
          <%= link_to "Make Appointments", appointments_path, class: "nav-link", style:"color: darkgray;"%>
        </li>
        <li class="nav-item">
          <%= link_to "Scholarships", scholarships_path, class: "nav-link", style:"color: darkgray;"%>
        </li>
        <li class="nav-item">
          <%= link_to "Courses", courses_path, class: "nav-link", style:"color: darkgray;"%>
        </li>
        <li class="nav-item">
          <%= link_to "Events", events_path, class: "nav-link", style:"color: white;"%>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <h1 class="display-5 fw-bold text-center my-4" style="color: #003262;">Events</h1>

  <% if @upcoming_events.present? %>
    <h2 class="mb-4" style="color: #003262;">Upcoming Events</h2>
    
    <% @upcoming_events.each do |event| %>
      <div class="card mb-4">
        <div class="card-body">
          <h3 class="card-title" style="color: #003262;"><%= event.title %></h3>
          <p class="card-text"><%= event.description %></p>
                
          <div class="mt-3">
            <h4 class="h5">Details:</h4>
            <ul class="list-unstyled">
              <li><strong>Date:</strong> <%= event.formatted_date %></li>
              <li><strong>Time:</strong> <%= event.formatted_time %></li>
              <li><strong>Location:</strong> <%= event.location %></li>
            </ul>
          </div>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="alert alert-info" role="alert">
      <p class="text-center mb-0">No upcoming events at this time. Check back soon!</p>
    </div>
  <% end %>

  <% if @past_events.present? %>
    <h2 class="mt-5 mb-4" style="color: #003262;">Past Events</h2>
    <div class="card mb-4">
      <div class="card-body">
        <% @past_events.each do |event| %>
          <h4 style="color: #003262;"><%= event.title %></h4>
          <p class="text-muted"><strong><%= event.formatted_date %>, <%= event.formatted_time %></strong></p>
          <p><strong>Location:</strong> <%= event.location %></p>
          <p><%= event.description %></p>
          <% unless event == @past_events.last %>
            <hr class="my-4">
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>

  <hr class="mt-5">
  <div class="text-center my-4">
    <%= link_to "Back", root_path, class:"btn btn-secondary btn-lg", style:"color:#003262" %>
  </div>
</div>
</html>